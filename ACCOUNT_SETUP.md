# 👤 帳號建立指南

Baseball Keep Web 提供兩種建立帳號的方式：

## 方式 1: 在網站上自行註冊（推薦）✨

### 步驟：

1. **前往登入頁面**
   - 開啟網站：`http://localhost:3000/login`
   - 或直接訪問網站，系統會自動導向登入頁面

2. **點擊「還沒有帳號？點此註冊」**
   - 在登入表單下方有一個藍色連結

3. **填寫註冊資訊**
   - **電子郵件**：輸入您的電子郵件地址
   - **密碼**：至少 6 個字元
   - **確認密碼**：再次輸入相同的密碼

4. **點擊「註冊」**
   - 系統會自動建立帳號
   - 預設角色為 **viewer（檢視者）**
   - 系統會自動在 `profiles` 資料表中建立對應的記錄

5. **註冊成功後**
   - 會顯示成功訊息
   - 可以立即使用剛才設定的帳號密碼登入

### 注意事項：

- ⚠️ **預設角色**：新註冊的使用者預設為 `viewer`（檢視者），只能查看資料，無法新增或編輯
- 🔐 **密碼要求**：密碼長度至少需要 6 個字元
- 📧 **電子郵件驗證**：根據 Supabase 設定，可能需要驗證電子郵件（可在 Supabase Dashboard 中關閉）

---

## 方式 2: 在 Supabase Dashboard 手動建立（管理員用）🔧

如果您是系統管理員，想要手動建立帳號並設定角色，可以使用此方式：

### 步驟：

1. **前往 Supabase Dashboard**
   - 登入 [Supabase Dashboard](https://supabase.com/dashboard)
   - 選擇您的專案

2. **建立使用者**
   - 點擊左側選單的 **Authentication**
   - 點擊 **Users** 標籤
   - 點擊右上角的 **Add user** 按鈕
   - 選擇 **Create new user**

3. **填寫使用者資訊**
   - **Email**：輸入電子郵件地址
   - **Password**：設定密碼（至少 6 個字元）
   - **Auto Confirm User**：✅ **務必勾選此選項**（這樣使用者才能立即登入）
   - **Send invitation email**：可選（如果勾選，會發送邀請郵件）

4. **點擊「Create user」**
   - 使用者會自動建立
   - 系統會自動在 `profiles` 資料表中建立對應記錄（預設角色：viewer）

5. **設定角色（可選）**
   - 點擊左側選單的 **Table Editor**
   - 選擇 **profiles** 資料表
   - 找到剛才建立的使用者（`id` 會對應 `auth.users` 的 `id`）
   - 點擊該列進行編輯
   - 將 `role` 欄位修改為：
     - `admin` - 管理員（完整權限）
     - `editor` - 編輯者（可新增/編輯資料）
     - `viewer` - 檢視者（只能查看）

6. **通知使用者**
   - 將帳號密碼提供給使用者
   - 使用者可以使用這些資訊登入系統

---

## 角色權限說明

### 👑 Admin（管理員）
- ✅ 查看所有資料
- ✅ 新增/編輯/刪除球員
- ✅ 新增/編輯/刪除打擊紀錄
- ✅ 管理使用者角色
- ✅ 所有功能

### ✏️ Editor（編輯者）
- ✅ 查看所有資料
- ✅ 新增/編輯球員
- ✅ 新增/編輯打擊紀錄
- ❌ 無法刪除資料
- ❌ 無法管理使用者

### 👁️ Viewer（檢視者）
- ✅ 查看所有資料
- ❌ 無法新增/編輯/刪除任何資料

---

## 修改使用者角色

### 方法 1: 透過網站（僅 Admin）

1. 以 Admin 角色登入
2. 點擊導航列右上角的 **「使用者管理」** 按鈕
3. 在列表中選擇要修改的使用者
4. 使用下拉選單選擇新角色
5. 系統會自動更新

### 方法 2: 透過 Supabase Dashboard

1. 前往 Supabase Dashboard
2. 點擊 **Table Editor** → **profiles**
3. 找到要修改的使用者
4. 點擊該列進行編輯
5. 修改 `role` 欄位
6. 儲存

---

## 常見問題

### Q: 註冊後無法登入？
**A:** 請檢查：
- 密碼是否正確
- 電子郵件是否正確
- 在 Supabase Dashboard 中確認使用者是否已建立
- 檢查 `profiles` 資料表中是否有對應記錄

### Q: 如何將新使用者設為 Admin？
**A:** 
1. 在 Supabase Dashboard 的 `profiles` 資料表中找到該使用者
2. 將 `role` 欄位改為 `admin`
3. 或使用 Admin 帳號登入網站，在「使用者管理」頁面修改

### Q: 忘記密碼怎麼辦？
**A:** 目前系統尚未實作忘記密碼功能。請在 Supabase Dashboard 中：
1. 前往 **Authentication** → **Users**
2. 找到該使用者
3. 點擊 **Reset password** 或手動修改密碼

### Q: 可以批量建立使用者嗎？
**A:** 可以透過 Supabase Dashboard 的 **Authentication** → **Users** → **Import users** 功能批量匯入使用者（需要 CSV 格式）

---

## 安全建議

1. **強密碼政策**：建議使用至少 8 個字元，包含大小寫字母、數字和符號
2. **定期更新密碼**：建議定期更換密碼
3. **角色管理**：只將 Admin 角色授予信任的使用者
4. **監控使用者**：定期檢查使用者列表，移除不需要的帳號

---

© 2024 Baseball Keep Web
